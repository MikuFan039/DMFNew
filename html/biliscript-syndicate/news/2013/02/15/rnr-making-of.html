
<!DOCTYPE html>
<html lang="zh-hans">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>《Round and Round》后记 - 弹幕艺术联合文档</title>
    <meta name="description" content="">
    <meta name="author" content="akaza-akari">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../../../../assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../../assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="../../../../atom.xml" type="application/atom+xml" rel="alternate" title="日志更新 Atom 1.0">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">弹幕艺术联合文档</a>
          <ul class="nav">
            
            
            


  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="../../../../examples.html">代码样例</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="../../../../performance.html">性能</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="../../../../reference.html">速查手册</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  




            <li><a href="https://github.com/biliscript-syndicate">Github项目</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h1>《Round and Round》后记 <small></small></h1>
</div>

<div class="row">
  <div class="span8">
    
<p>……都要统一性的写成XXX后记这样的标题的吗？</p>

<!-- break -->

<p>大家好，我是<a href="http://space.bilibili.tv/3166">EPM</a>，<a href="http://www.bilibili.tv/video/av410205/">Round and Round</a>的弹幕作者。虽然早几天受到了邀请说写制作过程什么的不过由于种种原因开始的有些晚呢，并不怎么善于写这样的文，大概需要什么内容也不清楚……大体是参照<a href="http://biliscript-syndicate.github.com../../../../news/2013/02/14/kokoro-making-of.html">前一篇</a>来的，经验不足质量问题还是请多包涵啦……</p>

<p>我自己应该算是UP主中比较不值得提及的一类，虽然待的时间不算太短不过并没有什么存在感。参加大赛的原因之前在9ch也有提到，与大家比来实在不堪，在此就不再提及了。</p>

<p>从传统的意义上讲的弹幕艺术作品，其内容需要依托于乐曲才能展开，因此所选的曲目很大程度上会决定作品的走向。从这个的反向来讲，如果不论性能限制，就是说<strong>选曲要适应自己的能力特点</strong>，而非一味追求热门或喜欢的曲目的事情。</p>

<p>以这次自己的选曲来讲的话，就像是这样的吧：</p>

<ul>
  <li> 出自熟悉的音乐游戏，对于自己来说是比较喜欢的曲目；可以保持足够的动力做完</li>
  <li> 歌曲速度较快，同时节奏分明，对于出自音MAD背景的自己来说可能是可以利用的优势</li>
  <li> 曲风与知名歌曲Bad Apple!!极似，又是同一编曲者所作，可以在借鉴（抄袭）已有元素的同时一定程度上提高认知度</li>
  <li> 在上一条的基础上，可以掩饰自己色感不足、绘图能力差的缺陷（如果去像ココロ或者干杯那样描是会出人命的）</li>
  <li> 不是大众热门曲，可以免于撞车、被压的风险</li>
</ul>

<p>作品的制作主要是在没有排课的空余时间进行的，因此虽然使用了两周+的时间，实际工作时间不是特别长。其中一周多的时间是在写辅助框架<a href="https://github.com/akaza-akari/Akari.biliScript">现名Akari.biliScript</a>，之后的时间也在随着制作的需要进行扩展。框架主要起到时间调度和提供我比较熟悉的场景描述方式的作用，由于并非重点，此处不再多作说明；更多信息请参照上述repo和<a href="http://9ch.co/t54006,1-1.html">9ch主题</a>。</p>

<p>开始之后首先解决的是分镜问题，这里比较自然地会想到参照游戏的BGA。很遗憾的是BGA只是泛用动画+Layer的形式，并没有专门的动画；由于之前选曲时限定的风格所致，描画Layer也是不可行的（何况Layer只有两三张图而已）；最终只得自行编排。由于过于简单，并未留下什么记录，情形将在下文提到。</p>

<p>接下来是视觉元素的选择。由于简单的配色限制并不允许过多复杂的图形，决定使用大字体的文字为主要视觉元素。大部分时间黑白的情况下，反转合成也可以成为视觉效果的一大变数；而在边缘不规则的情况下，反转合成后的画面可能比较难以辨认。因此以较为规则可预测的形状作为图形效果或装饰。受曲名的影响，最终选定以圆及其另外两个变体（空心、断开，齿轮）为效果元素。</p>

<p>关于节奏的同步问题。我是用平时调音的时候常用的DAW进行定位读数，可以说比较过当，不过保证定位的准确这一点在我眼中是很重要的。</p>

<p>在设定好DAW之后，将曲子分成了几段并依照特点处理。</p>

<ol>
  <li>
    <p>Intro ~13s</p>

    <p>这一段的特点是渐进的加速军鼓、扫频，产生不安定的效果，随后以一个短暂低潮解决。想法是以视觉元素的积压与黑白的快速切换产生视觉上的压力，以与听觉感受形成同步。此处和副歌部分可以看到引用自原BGA Layer的装饰性文字。</p>
  </li>
  <li>
    <p>Scratch ~27s</p>

    <p>皿（<a href="http://www.nicovideo.jp/watch/sm15759010">皿是什么？</a>），连接释放与接下来的歌词部分。这部分首次用到了强制运动模糊，目的在于（尤其是）低帧率下展现出更加自然的高速运动。做法是将原本的层分离成数个，据快门速度和相位得出各自的状态，按照均分的透明度值加法叠加后，再用原本的合成方式显示。就效果上而言是不错的，但在采样增多的情况下会成为主要的性能问题，因此实际上在Round and Round中使用的采样数比预计少很多。</p>

    <p><img src="../../../../res/rnr-making-of/s_p1.jpg" alt="s_p1" /> <img src="../../../../res/rnr-making-of/s_p2.jpg" alt="s_p2" /></p>

    <p>使用强制运动模糊的场景截图，由于是在60fps更改后的截图，效果上和投稿时有一定差异。</p>
  </li>
  <li>
    <p>Verse ~53s</p>

    <p>根据歌词节律选定了字号大小与排列方式对比的效果。这个部分的大字体表现上遇到了严重的问题。使用TextField的原本的实现受到Flash运行时的限制，即便经过放大也无法显示超过200px的文字（除非使用位图缓存，那样会产生极度模糊无法阅读的文字）。同时，TextField还有字体和锯齿的问题，这使得我决定不再使用TextField，实现自己的文字排列并将静态文字作为图形嵌入。字体的嵌入使代码量膨胀，无法再容纳在一条里；此后的文字排列工作更多的转移到Illustrator侧。</p>

    <p><img src="../../../../res/rnr-making-of/s_p3a.jpg" alt="s_p3a" /> <img src="../../../../res/rnr-making-of/s_p3b.jpg" alt="s_p3b" /></p>

    <p>更改前后的效果对比。左侧（历史截图，TextField）使用为宋体，采用位图缓存方案，即使小窗也可以看到明显的瑕疵，宽屏或全屏堪称惨不忍睹。</p>
  </li>
  <li>
    <p>Breakdown ~81s</p>

    <p>歌曲的低潮部分，为和接下来的副歌部分产生对比，主要选择了低速运动，并应用了一定的视觉上的钝化效果。反色和随机使用最为广泛的一段。由于风格选择，这里不宜使用模糊滤镜，因此选择了奇数个反色层加上随机运动的方式来实现类似失焦的效果。背景部分是多个随机的反色圆形，没有什么值得提及的。</p>
  </li>
  <li>
    <p>Chorus ~108s &amp; Outro ~126s</p>

    <p>副歌部分，主要使用了高速运动和3D化的背景与其他部分产生对比；除了引き裂く处的分裂使用了一个嵌套合成和色彩变换，空间的收束采用了歌词最后的の字作为蒙版，没有什么另外值得提及的。最后回归了类似于Intro的场景，说来做完后有人觉得最后的齿轮如果放完后还一直转下去就好了，这个创意实在是没想到……</p>

    <p><img src="../../../../res/rnr-making-of/s_p5.jpg" alt="s_p5" /></p>
  </li>
</ol>

<p>嘛，制作过程中的想法大概就是这样。剩余的编码只是苦力活了，行数大概是我的换行太多了的缘故……虽然本来想过像UHI先辈那样在别的软件里做好再转过来，不过直接写也没有遇到什么障碍，到可视化麻烦点而已，可能因为场景总体上都比较简单吧。写的代码和普遍的做法不大一样，就自己的感想的话这种手写工程文件似的感觉还是挺微妙的……</p>

<p>在制作中有使用Miller Medeiros的<a href="http://blog.millermedeiros.com/converting-svg-to-five3d-flash-vector-graphics-and-html5-canvas/">SVG to Motifs Parser</a>作为SVG到Graphics绘图指令的转换工具。其对SVG的遮罩、动画、样式表、文字、位图、渐变填充是缺乏支持的，作者使用的是Illustrator生成SVG。如果输入有不支持的东西会在”Warnings Panel”中显示。使用方式是将SVG源码填入”Input”框然后点击”Convert to AS3 Graphics”。</p>

<p>制作方面其余的感想的话，大体之前也在9ch有说过，这里也就不怎么多说了。针对奖品的话……</p>

<ul>
  <li> 阿卡林真可爱</li>
  <li> 果然发放的字幕君权限利用率不高呢</li>
  <li> 用来特别推荐的都没有几个人诶……</li>
  <li> 我还在整天推荐淫梦/曲奇不过没人看的样子</li>
  <li> <strike>真夏の夜の淫夢是一个略带H的百合GAL（棒读）</strike></li>
  <li> 阿卡林真可爱，很重要所以要再说一遍</li>
</ul>

<strike>では諸君っ！サラダバー！！</strike>


    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="../../../../news/2013/02/14/kokoro-making-of.html" title="《一首研究镜音的胸部里是什么的歌》后记">&larr; 前</a></li>
      
        <li><a href="../../../../archive.html">存档</a></li>
      
        <li class="next"><a href="../../../../news/2013/02/23/Danmaku-Helper.html" title="高级弹幕绘图助手：DanmakuHelper Ver1.15 0325更新">后 &rarr;</a></li>
      
      </ul>
    </div>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    
    var disqus_shortname = 'biliscript-syndicate'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>请开启JavaScript查看评论。</noscript>
<a href="http://disqus.com" class="dsq-brlink">评论系统由<span class="logo-disqus">Disqus</span>提供。</a>




  </div>
  
  <div class="span4">
    <h4>作者</h4>
    <div><span>akaza-akari</span></div>
    <h4>日期</h4>
    <div class="date"><span>2013年02月15日</span></div>

  
    
  </div>
</div>


      </div>

      <footer>
        <p>&copy; <a href="https://github.com/biliscript-syndicate">Biliscript Syndicate</a> 2015
          使用 <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          和 <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div> <!-- /container -->

    
  </body>
</html>

